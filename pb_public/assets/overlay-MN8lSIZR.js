const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ExampleComponent-ChnWUlAW.js","assets/chunk-UH6JLGW7-oKmrXizJ.js","assets/pocketbase.es-DDFA3sFr.js","assets/i18nInstance-CHFDjdcJ.js"])))=>i.map(i=>d[i]);
import{a as s,p as t,w as p}from"./chunk-UH6JLGW7-oKmrXizJ.js";import{_ as d}from"./preload-helper-BlTxHScW.js";import{C as x,u as f}from"./pocketbase.es-DDFA3sFr.js";import"./i18nInstance-CHFDjdcJ.js";const a=new x("http://127.0.0.1:8090");await a.collection("_superusers").authWithPassword("adminadmin@gmail.com","adminadmin");const y=Object.assign({"../components/ExampleComponent.tsx":()=>d(()=>import("./ExampleComponent-ChnWUlAW.js"),__vite__mapDeps([0,1,2,3]))}),v=n=>{const i=Object.entries(y);for(const[e,r]of i)if(e.match(/([^/\\]+)\.tsx$/)?.[1]===n)return r;return null};function h(){const{t:n,i18n:i}=f(),[e,r]=s.useState(null),[l,c]=s.useState(!0),m=async()=>{try{c(!0);const o=await a.collection("overlays").getFullList({filter:"active = true",sort:"-updated"});r(o?.[0]??null)}finally{c(!1)}};if(s.useEffect(()=>(m(),a.collection("overlays").subscribe("*",()=>{m()}),()=>{try{a.collection("overlays").unsubscribe("*")}catch{}}),[]),l)return t.jsx("p",{className:"text-2xl",children:n("overlay.loading_overlay")});if(!e)return t.jsx("p",{className:"text-2xl",children:n("overlay.inactive")});if(e.type==="image"&&e.image){const o=a.files.getURL(e,e.image);return t.jsx("div",{className:"w-screen h-screen flex items-center justify-center",children:t.jsx("img",{src:o,alt:e.short_description,className:"max-w-full max-h-full object-contain"})})}if(e.type==="react-component"){const o=v(e.component_name);if(!o)return t.jsx("p",{className:"text-2xl text-red-500",children:n("overlay.componentNotFound",{name:e.component_name})});const u=s.lazy(async()=>({default:(await o()).default}));return t.jsx("div",{className:"w-screen h-screen",children:t.jsx(s.Suspense,{fallback:t.jsx("p",{className:"text-2xl",children:n("overlay.loading_component")}),children:t.jsx(u,{})})})}return t.jsx("div",{})}function C({}){return[{title:"Dynamic overlay"},{name:"description",content:"Welcome to your dynamic overlay!"}]}const E=p(function(){return t.jsx(h,{})});export{E as default,C as meta};
